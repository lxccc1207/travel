<template>
  <div class="container" @click="handleGalleryClick">
    <div class="wrapper">
     <swiper :options="swiperOption" >  
        <swiper-slide v-for="(item,index) in imgs" :key="index">
         <img class="gallery-img" :src="item" />
        </swiper-slide>
        <div class="swiper-pagination"  slot="pagination"></div>
     </swiper>
    </div>
  </div>
</template>

<script>
export default{
  name:'CommonGallery',
  props:{
      imgs:{
          type:Array,
          default(){       
          }
      }
  },
  methods:{
      handleGalleryClick(){
          this.$emit('close')
      }
  },
  data(){
      return{
          swiperOption:{
              pagination:'.swiper-pagination',
              paginationType:'fraction',   //原来的圆点切换页显示为数字切换页
              observeParents:true,   //将observe应用于Swiper的父元素。当Swiper的父元素变化时，例如window.resize，Swiper更新。
              observer:true  //启动动态检查器(OB/观众/观看者)，当改变swiper的样式（例如隐藏/显示）或者修改swiper的子元素时，自动初始化swiper。
          }
      }
  }
}
</script>

<style lang="stylus" scoped>
  .container>>>.swiper-container
    overflow :inherit
  .container
    display :flex
    flex-direction :column
    justify-content :center
    position:fixed
    top:0
    left :0
    right:0
    bottom:0
    z-index :1
    background :#000
    .wrapper   
      width:100%  //父元素设置了flex，子元素会垂直居中
      height :0
      padding-bottom :100%  
      .gallery-img
        width:100%
      .swiper-pagination
        color:#fff
        bottom:-4rem
</style>
